<div>
  <mat-form-field appearance="fill">
    <mat-label>Number of dimensions</mat-label>
    <input matInput type="number" placeholder="Enter n" [(ngModel)]="n" aria-label="Number of dimensions">
  </mat-form-field>
  <button mat-raised-button color="primary" (click)="generateTable()" aria-label="Generate table">
    Generate Table
  </button>
</div>

<div class="table-container">
  <table mat-table [dataSource]="table" class="mat-elevation-z8" *ngIf="table.length > 0">
    <!-- Header Column -->
    <ng-container matColumnDef="header">
      <th mat-header-cell *matHeaderCellDef></th>
      <td mat-cell *matCellDef="let row; let j = index" style="font-weight: 500">v<sub>{{j + 1}}</sub></td>
    </ng-container>

    <!-- Define Other Columns -->
    <ng-container *ngFor="let col of displayedColumns.slice(1); let i = index" [matColumnDef]="col">
      <th mat-header-cell *matHeaderCellDef> v<sub>{{i + 1}}</sub> </th>
      <td mat-cell *matCellDef="let row; let j = index">
        <input matInput type="number" [value]="row[i]" (input)="updateValue(j, i, $event)" class="mat-input-element">
      </td>
    </ng-container>

    <!-- Row Definitions -->
    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
  </table>
</div>

<div>
  <button mat-raised-button color="accent" (click)="findResolvingSets()" aria-label="Find resolving sets">
    Find Resolving Sets
  </button>
</div>

<div *ngIf="resolvingSets.length > 0">
  <h3>All Resolving Sets:</h3>
  <ul>
    <li *ngFor="let set of resolvingSets">
      {{'{'}}<span *ngFor="let vertex of set; let last = last">
        v<sub>{{vertex.substring(1)}}</sub>{{!last ? ', ' : ''}}
      </span>{{'}'}}
    </li>
  </ul>
</div>

<div *ngIf="minCardinalitySets.length > 0">
  <h3>Minimum Cardinality Resolving Sets:</h3>
  <ul>
    <li *ngFor="let set of minCardinalitySets">
      {{'{'}}<span *ngFor="let vertex of set; let last = last">
        v<sub>{{vertex.substring(1)}}</sub>{{!last ? ', ' : ''}}
      </span>{{'}'}}
    </li>
  </ul>
  <div style="display: flex"><span style="font-weight: 600">Metric Dimension:</span>&nbsp;{{metricDimension}}</div>
</div>
